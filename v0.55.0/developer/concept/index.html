<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Design Concepts for the REopt Module · REopt.jl Documentation</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">REopt.jl Documentation</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">REopt</span><ul><li><a class="tocitem" href="../../reopt/examples/">Examples</a></li><li><a class="tocitem" href="../../reopt/inputs/">REopt Inputs</a></li><li><a class="tocitem" href="../../reopt/outputs/">Outputs</a></li><li><a class="tocitem" href="../../reopt/methods/">Methods</a></li></ul></li><li><span class="tocitem">Model Predictive Control</span><ul><li><a class="tocitem" href="../../mpc/examples/">MPC Examples</a></li><li><a class="tocitem" href="../../mpc/inputs/">MPC Inputs</a></li><li><a class="tocitem" href="../../mpc/outputs/">MPC Outputs</a></li><li><a class="tocitem" href="../../mpc/methods/">Methods</a></li></ul></li><li><span class="tocitem">Developer</span><ul><li class="is-active"><a class="tocitem" href>Design Concepts for the REopt Module</a><ul class="internal"><li><a class="tocitem" href="#Technology-size-constraints"><span>Technology size constraints</span></a></li><li class="toplevel"><a class="tocitem" href="#Business-As-Usual-Scenario"><span>Business As Usual Scenario</span></a></li></ul></li><li><a class="tocitem" href="../organization/">File Organization</a></li><li><a class="tocitem" href="../inputs/">The REoptInputs structure</a></li><li><a class="tocitem" href="../adding_tech/">Adding a Technology</a></li><li><a class="tocitem" href="../documentation/">Documenting the Code</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Developer</a></li><li class="is-active"><a href>Design Concepts for the REopt Module</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Design Concepts for the REopt Module</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/NREL/REopt.jl/blob/master/docs/src/developer/concept.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Design-Concepts-for-the-REopt-Module"><a class="docs-heading-anchor" href="#Design-Concepts-for-the-REopt-Module">Design Concepts for the REopt Module</a><a id="Design-Concepts-for-the-REopt-Module-1"></a><a class="docs-heading-anchor-permalink" href="#Design-Concepts-for-the-REopt-Module" title="Permalink"></a></h1><p>At a high level each REopt model consists of four major components:</p><ol><li>The <a href="../../reopt/inputs/#Scenario">Scenario</a> as defined by the user&#39;s inputs and default values.</li><li>The <a href="../inputs/#REoptInputs">REoptInputs</a>, which convert the <code>Scenario</code> into the necessary values for the REopt mathematical program.</li><li>The REopt Model (built <a href="https://github.com/NREL/REopt/blob/master/src/core/reopt.jl">here</a>), which includes all the constraints and the objective function that are built using the <a href="../inputs/#REoptInputs">REoptInputs</a></li><li>And the <a href="https://github.com/NREL/REopt/blob/master/src/results/results.jl">results</a>, which are returned to the user and derived from the optimal solution of the REopt Model.</li></ol><p>The REopt Model is built via the <a href="../../reopt/methods/#build_reopt!">build_reopt!</a> method. However, the <a href="../../reopt/methods/#run_reopt">run_reopt</a> method includes <code>build_reopt!</code> within it so typically a user does not need to directly call <code>build_reopt!</code> (unless they wish to modify the model before solving it, eg. by adding a constraint).</p><p><a href="../../reopt/methods/#run_reopt">run_reopt</a> is the main interface for users.</p><h2 id="Technology-size-constraints"><a class="docs-heading-anchor" href="#Technology-size-constraints">Technology size constraints</a><a id="Technology-size-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Technology-size-constraints" title="Permalink"></a></h2><h3 id="Upper-size-limits"><a class="docs-heading-anchor" href="#Upper-size-limits">Upper size limits</a><a id="Upper-size-limits-1"></a><a class="docs-heading-anchor-permalink" href="#Upper-size-limits" title="Permalink"></a></h3><p>The <code>max_kw</code> input value for any technology is considered to be the maximum <em>additional</em> capacity that may be installed beyond the <code>existing_kw</code>. Note also that the <code>Site</code> space constraints (<code>roof_squarefeet</code> and <code>land_acres</code>) for <code>PV</code> technologies can be less than the provided <code>max_kw</code> value.</p><h3 id="Lower-size-limits"><a class="docs-heading-anchor" href="#Lower-size-limits">Lower size limits</a><a id="Lower-size-limits-1"></a><a class="docs-heading-anchor-permalink" href="#Lower-size-limits" title="Permalink"></a></h3><p>The <code>min_kw</code> input value for any technology sets the lower bound on the capacity. If <code>min_kw</code> is non-zero then the model will be forced to choose at least that system size. The <code>min_kw</code> value is set equal to the <code>existing_kw</code> value in the Business As Usual scenario.</p><h1 id="Business-As-Usual-Scenario"><a class="docs-heading-anchor" href="#Business-As-Usual-Scenario">Business As Usual Scenario</a><a id="Business-As-Usual-Scenario-1"></a><a class="docs-heading-anchor-permalink" href="#Business-As-Usual-Scenario" title="Permalink"></a></h1><p>In order to calculate the Net Present Value of the optimal solution, as well as other baseline metrics, one can optionally run the Business As Usual (BAU) scenario. When an array of <code>JuMP.Model</code>s is provided to <code>run_reopt</code> the BAU scenario is also run. For example:</p><pre><code class="language-julia">m1 = Model(optimizer_with_attributes(Xpress.Optimizer, &quot;OUTPUTLOG&quot; =&gt; 0))
m2 = Model(optimizer_with_attributes(Xpress.Optimizer, &quot;OUTPUTLOG&quot; =&gt; 0))
results = run_reopt([m1,m2], &quot;./scenarios/pv_storage.json&quot;)</code></pre><p>The BAU scenario is created by modifying the <a href="../inputs/#REoptInputs">REoptInputs</a> (created from the user&#39;s <a href="../../reopt/inputs/#Scenario">Scenario</a>). In the BAU scenario we have the following assumptions:</p><ul><li>Each existing technology has zero capital cost, but does have operations and maintenance costs.</li><li>The <a href="../../reopt/inputs/#ElectricTariff">ElectricTariff</a>, <a href="../../reopt/inputs/#Financial">Financial</a>, <a href="../../reopt/inputs/#Site">Site</a>, <a href="../../reopt/inputs/#ElectricLoad">ElectricLoad</a>, and <a href="../../reopt/inputs/#ElectricUtility">ElectricUtility</a> inputs are the same as the optimal case.</li><li>The <code>min_kw</code> and <code>max_kw</code> values are set to the <code>existing_kw</code> value.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../mpc/methods/">« Methods</a><a class="docs-footer-nextpage" href="../organization/">File Organization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 7 October 2025 20:02">Tuesday 7 October 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
